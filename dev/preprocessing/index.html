<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Preprocessing ·  </title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="  logo"/></a><div class="docs-package-name"><span class="docs-autofit"> </span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><a class="tocitem" href="../fileIO/">File I/O</a></li><li class="is-active"><a class="tocitem" href>Preprocessing</a><ul class="internal"><li><a class="tocitem" href="#Upsampling-and-Downsampling-1"><span>Upsampling and Downsampling</span></a></li><li><a class="tocitem" href="#Cutting-1"><span>Cutting</span></a></li><li><a class="tocitem" href="#Smoothing-1"><span>Smoothing</span></a></li></ul></li><li><a class="tocitem" href="../generatingdata/">Generating Data</a></li><li><span class="tocitem">Fit and Predict</span><ul><li><a class="tocitem" href="../fitpredictTime/">Time data</a></li><li><a class="tocitem" href="../fitpredictFreq/">Frequency data</a></li></ul></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../elements/">Basic Elements</a></li><li><a class="tocitem" href="../fractionalMaxwell/">Maxwell</a></li><li><a class="tocitem" href="../fractionalKelvinVoigt/">Kelvin-Voigt</a></li><li><a class="tocitem" href="../fractionalZener/">Zener</a></li><li><a class="tocitem" href="../fractionalPT/">Poynting-Thomson</a></li><li><a class="tocitem" href="../burgers/">Burgers</a></li><li><a class="tocitem" href="../createmodel/">Create Your Model</a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../API/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Preprocessing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Preprocessing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaRheology/RHEOS.jl/blob/master/docs/src-staging/preprocessing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Preprocessing-of-Data-1"><a class="docs-heading-anchor" href="#Preprocessing-of-Data-1">Preprocessing of Data</a><a class="docs-heading-anchor-permalink" href="#Preprocessing-of-Data-1" title="Permalink"></a></h1><p>RHEOS offers several functions for sampling and filtering data; this page is intended to be a brief tutorial of their use. For detailed descriptions of functions and their optional arguments, see the <a href="../API/#API-1">API</a> section. </p><pre class="language-julia"><code class="language-julia">using RHEOS
using PyPlot</code></pre><h2 id="Upsampling-and-Downsampling-1"><a class="docs-heading-anchor" href="#Upsampling-and-Downsampling-1">Upsampling and Downsampling</a><a class="docs-heading-anchor-permalink" href="#Upsampling-and-Downsampling-1" title="Permalink"></a></h2><p>We generate a simple sinusoid with constant sampling rate (more details about data generation are discussed in the <a href="../generatingdata/#Generating-Data-1">Generating Data</a> section).</p><pre class="language-julia"><code class="language-julia"># Generate a sinusoidal data set
d = timeline(t_start=0, t_end=10, step = 0.4)
d = strainfunction(d,t-&gt;sin(t))

# Plotting
fig, ax = subplots(1,1, figsize=(4,4))
ax.plot(d.t, d.ϵ, &quot;--&quot;, marker = &quot;o&quot;, markersize = 6, color = &quot;blue&quot;);</code></pre><p><img src="../preprocessing_files/preprocessing_5_0.png" alt="png"/></p><p>To change the sampling rate of the data set, the function <a href="../API/#RHEOS.resample"><code>resample</code></a> can be used with the keyword argument <code>scale</code>, controlling the scaling factor on the sampling rate. <code>scale=2</code> double the sampling rate (upsampling) whereas <code>scale=1//2</code> would keep one every other value (downsampling). Any positive real value can be used, and point will be extrapolated accordingly. </p><pre class="language-julia"><code class="language-julia"># Downsample
d_downsample = resample(d, scale=1//2)
# Upsample
d_upsample = resample(d, scale=2)

# Plotting
fig, ax = subplots(1,2, figsize=(10,5))
ax[1].set_title(&quot;Downsampling&quot;)
ax[1].plot(d.t, d.ϵ, &quot;--&quot;, marker = &quot;o&quot;, markersize = 6, color = &quot;blue&quot;);
ax[1].plot(d_downsample.t, d_downsample.ϵ, &quot;.&quot;, marker = &quot;x&quot;, markersize = 8, markeredgewidth=2, color = &quot;orange&quot;);
ax[2].set_title(&quot;Upsampling&quot;)
ax[2].plot(d.t, d.ϵ, &quot;--&quot;, marker = &quot;o&quot;, markersize = 6, color = &quot;blue&quot;);
ax[2].plot(d_upsample.t, d_upsample.ϵ, &quot;.&quot;, marker = &quot;x&quot;, markersize = 8, markeredgewidth=2, color = &quot;orange&quot;);</code></pre><p><img src="../preprocessing_files/preprocessing_7_0.png" alt="png"/></p><p>RHEOS also allows us to specify the time step <code>dt</code> required between data points. Values are obtained by spline interpolation using the module Dierckx. This is particularly useful to obtain a uniform sampling rate from an uneven sample.</p><pre class="language-julia"><code class="language-julia"># Variable sampling: Downsampling region [0,5] and upsampling [5,10]
d = RheoTimeData(t=[0,0.6,1.05,1.45,2.1,2.4,2.9,3.6,4.1,4.6,5])
d = strainfunction(d,t-&gt;sin(t/3.))

# Plotting
fig, ax = subplots(1,1, figsize=(5,5))
ax.plot(d.t, d.ϵ, &quot;--&quot;, marker = &quot;o&quot;, markersize = 6, color = &quot;blue&quot;);

d = resample(d,dt=0.25)
ax.plot(d.t, d.ϵ, &quot;.&quot;, marker = &quot;x&quot;, markersize = 8, color = &quot;orange&quot;);
</code></pre><p><img src="../preprocessing_files/preprocessing_9_0.png" alt="png"/></p><h2 id="Cutting-1"><a class="docs-heading-anchor" href="#Cutting-1">Cutting</a><a class="docs-heading-anchor-permalink" href="#Cutting-1" title="Permalink"></a></h2><p>RHEOS provides a dedicated function to remove the data outside a specified time interval.</p><pre class="language-julia"><code class="language-julia"># Generate a sinusoidal data set
d = timeline(t_start=0, t_end=10, step = 0.4)
d = strainfunction(d,t-&gt;sin(t))

d_cut = cutting(d, 2.0, 8.0)

# Plotting
fig, ax = subplots(1,1, figsize=(5,5))
ax.plot(d.t, d.ϵ, &quot;--&quot;, marker = &quot;o&quot;, markersize = 8, color = &quot;blue&quot;);
ax.plot(d_cut.t, d_cut.ϵ, &quot;--&quot;, marker = &quot;x&quot;, markersize = 10, markeredgewidth=2, color = &quot;orange&quot;);</code></pre><p><img src="../preprocessing_files/preprocessing_12_0.png" alt="png"/></p><h2 id="Smoothing-1"><a class="docs-heading-anchor" href="#Smoothing-1">Smoothing</a><a class="docs-heading-anchor-permalink" href="#Smoothing-1" title="Permalink"></a></h2><p>Lastly, RHEOS provides a smoothing function, <a href="../API/#RHEOS.smooth"><code>smooth</code></a>. The first argument is the data to smooth and the second argument is the (very) approximate time scale of smoothing. (It uses Gaussian smoothing and can be thought of as a low pass filter for information occuring on time scales shorter than the 2nd argument). The padding can be changed using a keyword argument if desired, see <a href="../API/#API-1">API</a> and <a href="https://juliaimages.github.io/ImageFiltering.jl/stable/function_reference.html">ImageFiltering.jl Documentation</a> for more details. </p><pre class="language-julia"><code class="language-julia">d_s=timeline(t_start=0, t_end=10, step = 0.05);
d_s=strainfunction(d_s,t-&gt;3*sin(t));
noise=strainfunction(d_s,t-&gt;rand());

d_noisy = d_s + noise
d_smooth = smooth(d_noisy, 1)

fig, ax = subplots(1,1, figsize=(5,5))
ax.plot(d_noisy.t, d_noisy.ϵ, color = &quot;blue&quot;);
ax.plot(d_smooth.t, d_smooth.ϵ, color = &quot;orange&quot;);</code></pre><p><img src="../preprocessing_files/preprocessing_15_0.png" alt="png"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../fileIO/">« File I/O</a><a class="docs-footer-nextpage" href="../generatingdata/">Generating Data »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 10 June 2020 06:37">Wednesday 10 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
