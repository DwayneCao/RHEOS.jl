<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Fitting Data · RHEOS.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="RHEOS.jl logo"/></a><h1>RHEOS.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Fitting Data</a><ul class="internal"><li><a class="toctext" href="#Stress/Strain/Time-Data-1">Stress/Strain/Time Data</a></li><li><a class="toctext" href="#G*/ω-Data-1">G*/ω Data</a></li></ul></li><li><a class="toctext" href="../predictingresponse/">Predicting Responses</a></li><li><a class="toctext" href="../generatingdata/">Generating Loading</a></li><li><a class="toctext" href="../preprocessing/">Preprocessing Tools</a></li><li><a class="toctext" href="../fileIO/">File I/O</a></li><li><a class="toctext" href="../models/">Models</a></li><li><a class="toctext" href="../API/">API</a></li><li><a class="toctext" href="../moreexamples/">More Examples</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Fitting Data</a></li></ul><a class="edit-page" href="https://github.com/JuliaRheology/RHEOS.jl/blob/master/docs/src/fittingdata.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Fitting Data</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Fitting-Data-1" href="#Fitting-Data-1">Fitting Data</a></h1><p>This page is a tutorial on how to fit viscoelastic models to data using RHEOS. If you want to try out the code below, it can all be run from the Julia REPL but <strong>note that the importing data functions will only work if you are using the &#39;RHEOS/examples&#39; folder as your working directory as that&#39;s where the example data files are stored</strong>.</p><h2><a class="nav-anchor" id="Stress/Strain/Time-Data-1" href="#Stress/Strain/Time-Data-1">Stress/Strain/Time Data</a></h2><p>This section is for standard viscoelastic tensile or compression tests where time, stress and strain data are available.</p><p>First, we need to load in RHEOS</p><pre><code class="language-none">using RHEOS</code></pre><p>RHEOS has a convenience function for importing data from CSV files. The default column delimiter is &#39;,&#39; but an alternative can be specified as a keyword argument. The row delimiter is a newline character (&#39;\n&#39;). For standard viscoelastic testing data RHEOS expects either stress, strain and time data, just stress and time, or just strain and time. The order of the columns is specified as the first argument in the function <a href="../API/#RHEOS.importdata"><code>importdata</code></a>. The second argument is the directory of the file, as shown below.</p><pre><code class="language-none">data = importdata([&quot;stress&quot;,&quot;strain&quot;, &quot;time&quot;], &quot;DataComplete.csv&quot;)</code></pre><p>Now we have all our data stored in the variable <code>data</code> which is of type <a href="../API/#RHEOS.RheologyData"><code>RheologyData</code></a>. (In this tutorial, our data file <code>DataComplete.csv</code> is in the same directory as our Julia script so we can just use its relative directory.)</p><p>Let&#39;s fit a Standard Linear Solid viscoelastic model via its relaxation modulus, G, as our data is from a stress relaxation test. The first argument is our data, the second argument tells RHEOS which model to fit and the final argument tells RHEOS whether to fit the model using a relaxation modulus (:G) or creep modulus (:J).</p><pre><code class="language-none">fitted_SLS_model = modelfit(data, SLS(), :G)</code></pre><p>Our first fitted model is not contained in the <code>fitted_SLS_model</code> variable which is an instance of the <a href="../API/#RHEOS.RheologyModel"><code>RheologyModel</code></a> data type.</p><p>Next, we&#39;ll fit a fractional Standard Linear Solid model (the only difference from the above model is that the dash-pot is replaced by a spring-pot). This time we&#39;ll also add upper and lower bounds on the model parameters. This is highly recommended for fractional models in particular as values less than 0 or greater than 1 for the spring-pot parameter are unphysical and can cause errors in the Mittag-Leffler function used.</p><pre><code class="language-none">lb = [0.1, 0.01, 0.1, 0.1]
ub = [Inf, 0.99, Inf, Inf]
fitted_fractSLS_model = modelfit(data, FractionalSLS(), :G; lo=lb, hi=ub)</code></pre><p>Note the two keyword arguments used – <code>lo</code> and <code>hi</code> for the lower and upper parameter boundaries respectively. The special argument <code>Inf</code> for the three of the parameters&#39; upper bounds represent a type of infinity such that the parameters can be as large as required by the optimisation algorithm.</p><p>For a full list of keyword arguments and features of the <a href="../API/#RHEOS.modelfit"><code>modelfit</code></a> function, see the relevant part of the <a href="../API/#API-1">API</a> section. Models included in RHEOS are also listed in the <a href="../API/#API-1">API</a> section, and discussed in more detail in the Models section.</p><h2><a class="nav-anchor" id="G*/ω-Data-1" href="#G*/ω-Data-1">G*/ω Data</a></h2><p>RHEOS can also fit models to dynamic mechanical analysis data from oscillatory tests. The <code>importdata</code> function can again be used here but with the column names <code>Gp</code> for the storage modulus, <code>Gpp</code> for the loss modulus and <code>frequency</code> for the frequency column. RHEOS will detect the <code>frequency</code> string and know to load the data into a <a href="../API/#RHEOS.RheologyDynamic"><code>RheologyDynamic</code></a> data type. Assuming RHEOS has already been imported, let&#39;s load in our data file:</p><pre><code class="language-none">data = importdata([&quot;Gp&quot;,&quot;Gpp&quot;, &quot;Frequency&quot;], &quot;FrequencyData.csv&quot;)</code></pre><p>As this is dynamic mechanical testing data it is an instance of the <a href="../API/#RHEOS.RheologyDynamic"><code>RheologyDynamic</code></a> data type. As before, we&#39;ll try and fit the data to a Standard Linear Solid model – but this time we need to use the <code>dynamicmodelfit</code> function.</p><pre><code class="language-none">fitted_SLS_model = dynamicmodelfit(data, SLS())</code></pre><p>Note that we do not have to specify whether we are fitting via the creep or relaxation modulus as RHEOS always fits dynamic data to the complex (dynamic) modulus. Let&#39;s also try to fit the data to a fractional Standard Linear Solid model:</p><pre><code class="language-none">lb = [0.1, 0.01, 0.1, 0.1]
ub = [Inf, 0.99, Inf, Inf]
fitted_fractSLS_model = dynamicmodelfit(data, FractionalSLS(); lo=lb, hi=ub)</code></pre><p>For more information on the <a href="../API/#RHEOS.dynamicmodelfit"><code>dynamicmodelfit</code></a> function, see the <a href="../API/#API-1">API</a> section.</p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../predictingresponse/"><span class="direction">Next</span><span class="title">Predicting Responses</span></a></footer></article></body></html>
